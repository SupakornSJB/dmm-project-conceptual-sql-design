// Some suggestions
// Should we add a payments table to track the payments??

// added a few columns to user table
Table User {
  id int [pk]
  name varchar
  email varchar [unique, not null]
  account_type varchar // customer, owner, admin
  created_at datetime
}

Table Space {
  id int [pk]
  name varchar
  location varchar
  location_geo geography
  capacity int
  size float
}

// Assuming multiple admins, M:N relation
Table SpaceOwner {
  user_id int [pk, ref: > User.id]
  space_id int [pk, ref: > Space.id]
  role varchar // primary_owner, co_admin
}

// Facilities (separated into different tables)
Table FacilityType {
  id int [pk]
  name varchar // store type of facility here (table, wifi, tv, etc)
}

Table SpaceFacilities {
  id int [pk]
  space_id int [ref: > Space.id]
  facility_type_id int [ref: > FacilityType.id] // reference id of that facility
  total_amount int
}

// Rental Rates (separated into different tables like facility)
Table RentalRateType {
  code varchar [pk] // HR, HD, FD
  description varchar
}

Table SpaceRentalFee {
  space_id int [pk]
  rate_code varchar [pk, ref: > RentalRateType.code]
  amount decimal
  currency varchar
}

// Bookings (added a surrogate key)
Table SpaceBooking {
  id int [pk]
  space_id int
  booked_period_start datetime
  booked_period_end datetime
  booker_id int [ref: > User.id]
  created_at datetime
  updated_at datetime
  approved_by_user_id int [ref: > User.id] // confirmation
  reason varchar // booking reason
  check_in_time datetime
  check_out_time datetime
}

// Booked facilities (surrogate key in booking can be used)
Table SpaceBookingBookedFacilities {
  booking_id int [pk, ref: > SpaceBooking.id]
  facility_id int [pk, ref: > SpaceFacilities.id]
  amount int
}

// Feedback (feedback tied to booking id instead of space id so that user can give feedback of each booking)
Table SpaceFeedback {
  id int [pk]
  booking_id int [not null, ref: > SpaceBooking.id]
  user_id int [not null, ref: > User.id]
  rating int // 1-5
  comment varchar
  created_at datetime
}